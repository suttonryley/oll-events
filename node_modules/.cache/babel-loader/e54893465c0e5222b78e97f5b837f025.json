{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sutto\\\\Documents\\\\react_practice\\\\oll-events\\\\src\\\\Table.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './Table.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Table() {\n  _s();\n\n  const [artistError, setArtistError] = useState(null);\n  const [isArtistLoaded, setIsArtistLoaded] = useState(false);\n  const [artistItems, setArtistItems] = useState([]);\n  const [eventError, setEventError] = useState(null);\n  const [isEventLoaded, setIsEventLoaded] = useState(false);\n  const [eventItems, setEventItems] = useState([]);\n  const [venueError, setVenueError] = useState(null);\n  const [isVenueLoaded, setIsVenueLoaded] = useState(false);\n  const [venueItems, setVenueItems] = useState([]);\n  const [showVenue, setShowVenue] = useState(false);\n  const [venueNameShow, setVenueNameShow] = useState(null);\n  const [venueIconShow, setVenueIconShow] = useState(null);\n  const [venueAddressShow, setVenueAddressShow] = useState(null);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [sortByVenue, setSortByVenue] = useState(false);\n  const [sortByArtist, setSortByArtist] = useState(false); // This fetches the JSON data and builds the \n\n  useEffect(() => {\n    fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/artists.json\").then(res => res.json()).then(result => {\n      setIsArtistLoaded(true);\n      setArtistItems(result);\n    }, error => {\n      setIsArtistLoaded(true);\n      setArtistError(error);\n    });\n    fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/events.json\").then(res => res.json()).then(result => {\n      setIsEventLoaded(true);\n      setEventItems(result);\n    }, error => {\n      setIsEventLoaded(true);\n      setEventError(error);\n    });\n    fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/venues.json\").then(res => res.json()).then(result => {\n      setIsVenueLoaded(true);\n      setVenueItems(result);\n    }, error => {\n      setIsVenueLoaded(true);\n      setVenueError(error);\n    });\n  }, []);\n\n  function expandVenue(venueName, venueIcon, venueAddress) {\n    setShowVenue(true);\n    setVenueNameShow(venueName);\n    setVenueIconShow(venueIcon);\n    setVenueAddressShow(venueAddress);\n    console.log(venueName);\n  }\n\n  function buildRow(item, index) {\n    let rowID = \"event_\" + item.id;\n    let artistName = null;\n    let artistGenre = null; //get artist and genre\n\n    artistItems.forEach(element => {\n      if (element.id == item.artist_id) {\n        artistName = element.name;\n        artistGenre = element.genre;\n      }\n    });\n    let venueName = null;\n    let venueIcon = null;\n    let venueAddress = null; //get venue \n\n    venueItems.forEach(element => {\n      if (element.id == item.venue_id) {\n        venueName = element.name;\n        venueIcon = element.icon;\n        venueAddress = element.address;\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      id: rowID,\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: item.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: artistName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: artistGenre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => expandVenue(venueName, venueIcon, venueAddress),\n          children: venueName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: [\"$\", item.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  }\n\n  function displayVenue() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [venueNameShow, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: venueIconShow,\n        alt: \"No picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 62\n      }, this), venueAddressShow]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this);\n  } // method keeps track of which radio button is selected\n\n\n  function onRadioChange(event) {\n    if (event.target.value === \"Artist\") {\n      setSortByArtist(true);\n      setSortByVenue(false);\n      console.log(\"selected Artist\");\n    } else {\n      setSortByVenue(true);\n      setSortByArtist(false);\n      console.log(\"selected Venue\");\n    }\n  }\n\n  if (artistError || eventError || venueError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", artistError.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 16\n    }, this);\n  } else if (!isArtistLoaded || !isEventLoaded || !isVenueLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 16\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table-Header\",\n      children: [\"Sort By:\", /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radio\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"Artist\",\n              name: \"sortRadio\",\n              onChange: onRadioChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), \"Artist\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radio\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"Venue\",\n              name: \"sortRadio\",\n              onChange: onRadioChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), \"Venue\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Event Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Event Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Artist Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Artist Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Venue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Ticket Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), eventItems.map((item, index) => buildRow(item, index)), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: showVenue ? {} : {\n          display: 'none'\n        },\n        children: displayVenue()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Table, \"Zi1POBl4SfPLETrgI5jp457desE=\");\n\n_c = Table;\nexport default Table;\n\nvar _c;\n\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"sources":["C:/Users/Sutto/Documents/react_practice/oll-events/src/Table.js"],"names":["React","useState","useEffect","Table","artistError","setArtistError","isArtistLoaded","setIsArtistLoaded","artistItems","setArtistItems","eventError","setEventError","isEventLoaded","setIsEventLoaded","eventItems","setEventItems","venueError","setVenueError","isVenueLoaded","setIsVenueLoaded","venueItems","setVenueItems","showVenue","setShowVenue","venueNameShow","setVenueNameShow","venueIconShow","setVenueIconShow","venueAddressShow","setVenueAddressShow","selectedOption","setSelectedOption","sortByVenue","setSortByVenue","sortByArtist","setSortByArtist","fetch","then","res","json","result","error","expandVenue","venueName","venueIcon","venueAddress","console","log","buildRow","item","index","rowID","id","artistName","artistGenre","forEach","element","artist_id","name","genre","venue_id","icon","address","date","title","price","displayVenue","onRadioChange","event","target","value","message","map","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Table.css';\r\n\r\nfunction Table() {\r\n    const [artistError, setArtistError] = useState(null);\r\n    const [isArtistLoaded, setIsArtistLoaded] = useState(false);\r\n    const [artistItems, setArtistItems] = useState([]);\r\n    const [eventError, setEventError] = useState(null);\r\n    const [isEventLoaded, setIsEventLoaded] = useState(false);\r\n    const [eventItems, setEventItems] = useState([]);\r\n    const [venueError, setVenueError] = useState(null);\r\n    const [isVenueLoaded, setIsVenueLoaded] = useState(false);\r\n    const [venueItems, setVenueItems] = useState([]);\r\n    const [showVenue, setShowVenue] = useState(false); \r\n    const [venueNameShow, setVenueNameShow] = useState(null); \r\n    const [venueIconShow, setVenueIconShow] = useState(null); \r\n    const [venueAddressShow, setVenueAddressShow] = useState(null); \r\n    const [selectedOption, setSelectedOption] = useState(null); \r\n    const [sortByVenue, setSortByVenue] = useState(false); \r\n    const [sortByArtist, setSortByArtist] = useState(false); \r\n\r\n    // This fetches the JSON data and builds the \r\n    useEffect(() => {\r\n        fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/artists.json\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    setIsArtistLoaded(true);\r\n                    setArtistItems(result);\r\n                },\r\n                (error) => {\r\n                    setIsArtistLoaded(true);\r\n                    setArtistError(error);\r\n                }\r\n        )\r\n\r\n        fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/events.json\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    setIsEventLoaded(true);\r\n                    setEventItems(result);\r\n                },\r\n                (error) => {\r\n                    setIsEventLoaded(true);\r\n                    setEventError(error);\r\n                }\r\n        )\r\n\r\n        fetch(\"https://oll-coding-exercise.s3-us-west-2.amazonaws.com/venues.json\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    setIsVenueLoaded(true);\r\n                    setVenueItems(result);\r\n                },\r\n                (error) => {\r\n                    setIsVenueLoaded(true);\r\n                    setVenueError(error);\r\n                }\r\n        )\r\n        \r\n\r\n    }, [])\r\n    function expandVenue(venueName, venueIcon, venueAddress) {\r\n\r\n        setShowVenue(true); \r\n        setVenueNameShow(venueName); \r\n        setVenueIconShow(venueIcon); \r\n        setVenueAddressShow(venueAddress)\r\n        console.log(venueName); \r\n    }\r\n    function buildRow(item, index) {\r\n\r\n        let rowID = \"event_\" + item.id;\r\n\r\n        let artistName = null;\r\n        let artistGenre = null;\r\n\r\n        //get artist and genre\r\n        artistItems.forEach(element => {\r\n            if (element.id == item.artist_id) {\r\n                artistName = element.name;\r\n                artistGenre = element.genre;\r\n            }\r\n        });\r\n\r\n        let venueName = null;\r\n        let venueIcon = null;\r\n        let venueAddress = null;\r\n\r\n        //get venue \r\n        venueItems.forEach(element => {\r\n            if (element.id == item.venue_id) {\r\n                venueName = element.name;\r\n                venueIcon = element.icon;\r\n                venueAddress = element.address;\r\n            }\r\n        });\r\n        return (\r\n            <tr key={index} id={rowID}>\r\n                <th>{item.date}</th>\r\n                <th>{item.title}</th>\r\n                <th>{artistName}</th>\r\n                <th>{artistGenre}</th>\r\n                <th><button onClick={() => expandVenue(venueName, venueIcon, venueAddress)}>{venueName}</button>\r\n                    \r\n                </th>\r\n                <th>${item.price}</th>\r\n            </tr>\r\n        )\r\n    } \r\n\r\n    function displayVenue() {\r\n        return (\r\n            <div>\r\n                {venueNameShow} <br />\r\n                <img src={venueIconShow} alt=\"No picture\" /> <br />\r\n                {venueAddressShow}\r\n            </div>); \r\n    }\r\n\r\n    // method keeps track of which radio button is selected\r\n    function onRadioChange(event) {\r\n    if (event.target.value === \"Artist\") {\r\n        setSortByArtist(true);\r\n        setSortByVenue(false);\r\n        console.log(\"selected Artist\");\r\n    }\r\n    else {\r\n        setSortByVenue(true);\r\n        setSortByArtist(false);\r\n        console.log(\"selected Venue\");\r\n    }\r\n    }\r\n\r\n    if (artistError || eventError || venueError) {\r\n        return <div>Error: {artistError.message}</div>;\r\n    } else if (!isArtistLoaded || !isEventLoaded || !isVenueLoaded) {\r\n        return <div>Loading...</div>;\r\n    } else {\r\n        return (\r\n            <div className=\"Table-Header\">\r\n                Sort By: \r\n                <form>\r\n                    <div className=\"radio\">\r\n                        <label>\r\n                            <input\r\n                                type=\"radio\"\r\n                                value=\"Artist\"\r\n                                name=\"sortRadio\"\r\n                                onChange={onRadioChange}\r\n                            />\r\n                            Artist\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"radio\">\r\n                        <label>\r\n                            <input\r\n                                type=\"radio\"\r\n                                value=\"Venue\"\r\n                                name=\"sortRadio\"\r\n                                onChange={onRadioChange}\r\n                            />\r\n                        Venue\r\n                        </label>\r\n                    </div>\r\n                </form> \r\n                <table >\r\n                    <tr>\r\n                        <th>Event Date</th>\r\n                        <th>Event Name</th>\r\n                        <th>Artist Name</th>\r\n                        <th>Artist Genre</th>\r\n                        <th>Venue</th>\r\n                        <th>Ticket Price</th>\r\n                    </tr>\r\n                    {eventItems.map((item, index) => buildRow(item,index))};\r\n                </table>\r\n                <div style={showVenue ? {} : { display: 'none'}}>\r\n                    {displayVenue()}\r\n                </div> \r\n\r\n                               \r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Table; "]},"metadata":{},"sourceType":"module"}